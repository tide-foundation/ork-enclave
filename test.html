<html>
    <script type="module">
        import {SignUp, SignIn, ChangePassword, SimClient, TideJWT, EdDSA, Point, Utils} from "/modules/TideJS/index.js";
        
        // Sign Up
        var cmkOrks = [["2527689245118197790113231778399786267654070552711339962487622855626901589953", "http://host.docker.internal:1001", Point.fromB64("WGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmY=")], ["6393847925575234000169843195548208585270417612196919584745964877580038090425", "http://host.docker.internal:1003", Point.fromB64("1LT1eEhowwIEAyRnF+wWn/eeJmCOoSahq2nud9GxZxI=")], ["4632947133711470616417116433625114571768440046220722468064461787170709195526", "http://host.docker.internal:1002", Point.fromB64("yaP4aq5GXw5WUThkUQ85l1YfosnoXqIdwikjCfPNYCI=")], ["1236192107091201142435240383373704537094513494254495780082080673750870608619", "http://host.docker.internal:1004", Point.fromB64("LxEyymGrON/wDy/qMijyTGxx1YCFuA5H4ZUVyyfo0Ec=")], ["1688896922719992198562411318292378855138814747620597373779036533530118166363", "http://host.docker.internal:1005", Point.fromB64("7ch21oMf0hBdC0OJyi4oMWZGkokUbizgb67+mLIlSN8=")]];
        var cvkOrks = cmkOrks;
        var config = {
            cmkOrkInfo: cmkOrks,
            cvkOrkInfo: cvkOrks,
        }
        var su = new SignUp(config);
        var user = Date.now().toString();
        var gVVK = "WGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmY=";
        var jwt1 = await su.start(user, "a", gVVK);
        console.log("Sign up good " + jwt1);

        // Change Password
        await ChangePassword.start(user, "a", "b");
        console.log("Change password good")

        // Sign In
        var newConfig = {
            mode: "default"
        }
        var si = new SignIn(newConfig);
        var {jwt, modelSig} = await si.start(user, "b", gVVK);
        console.log("Sign in good " + jwt);

    </script>
</html>